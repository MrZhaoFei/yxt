<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.system.mapper.service.GdNumberInfoMapper" >
	<!-- 新增 -->
	<insert id="insert" parameterType="org.system.entity.service.GdNumberInfo">
		insert into gd_number_info(id,gd_current_count,last_date,prefix) values (#{id},#{gdCurrentCount},#{lastDate},#{prefix})
	</insert>
	
	<!-- 修改 -->
	<update id="update" parameterType="org.system.entity.service.GdNumberInfo">
		update gd_number_info set gd_current_count=#{gdCurrentCount},last_date=#{lastDate},prefix=#{prefix} where id=#{id}
	</update>
	
	<!-- 根据主键查询单个 -->
	<select id="queryOne" parameterType="org.system.entity.service.GdNumberInfo" resultType="map">
		select id,gd_current_count number,last_date `date`,prefix from gd_number_info where id=#{id}
	</select>
	
	<!-- 根据机构取签约号 -->
	<select id="getGdnumberForHospital" parameterType="int" resultType="map">
		select fn_get_contract_num(#{id}) number from dual
	</select>
	
	<!-- 获取订单号 -->
	<select id="getOrderNumber" parameterType="int" resultType="map">
		select fn_get_order_number() number from dual
	</select>
</mapper>