package org.system.controller.iface.address;

import java.util.Map;

import org.core.annotation.RequiresPermissions;
import org.springframework.validation.BindingResult;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;
import org.system.entity.address.Address;
import org.utils.spring.Groups;

/**
 * 地址相关
 * 
 * @author MrLiu
 *
 */
@RequestMapping(value = { "/common" })
public interface IAddressController {

	/**
	 * 查询地址列表
	 * 
	 * @param address
	 * @param result
	 * @return
	 */
	@RequestMapping(value = { "/addresss" }, method = RequestMethod.GET)
	@ResponseBody
	@RequiresPermissions("address:list")
	public Map<String, Object> getAddressList(@Validated({ Groups.Select.class }) Address address,
			BindingResult result);

	/**
	 * 通过经纬度和半径查询附近机构
	 * 
	 * @param type
	 *            机构类型
	 * @param address
	 * @param result
	 * @return {@link Map}
	 */
	@RequestMapping(value = { "/addresssByRaidus" }, method = RequestMethod.GET)
	@ResponseBody
	@RequiresPermissions("address:raidus")
	public Map<String, Object> getAddressChildListByRaidus(@RequestParam(value = "type", required = false) Integer type,
			@Validated({ Groups.Other.class }) Address address, BindingResult result);

	/**
	 * 查询地址详情
	 * 
	 * @param addressId
	 *            地址ID
	 * @param address
	 * @return {@link Map}
	 */
	@RequestMapping(value = { "/address/{addressId}" }, method = RequestMethod.GET)
	@ResponseBody
	@RequiresPermissions("address:detail")
	public Map<String, Object> getAddressDetail(@PathVariable("addressId") Integer addressId, Address address);

}