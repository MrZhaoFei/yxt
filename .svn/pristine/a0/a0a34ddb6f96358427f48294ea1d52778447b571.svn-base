<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.system.mapper.user.healthtest.UserDailyBloodSugarMapper" >
	<!-- 新增 -->
	<insert id="insert" parameterType="org.system.entity.user.healthtest.UserDailyBloodSugar">
		insert into user_daily_blood_sugar(blood_sugar,user_id,date) values(#{bloodSugar},#{userId},#{date})
	</insert>
	
	<!-- 查询列表 -->
	<select id="queryAll" parameterType="org.system.entity.user.healthtest.UserDailyBloodSugar" resultType="map">
		select id,blood_sugar sugar,date from user_daily_blood_sugar
		<where>
			<if test="userId !=null">
				user_id=#{userId}
			</if>
			<choose>
				<when test="startDate !=null and endDate !=null">
						and date between #{startDate} and #{endDate}
				</when>
				<otherwise>
					<if test="startDate !=null">
						and date &gt; #{startDate}
					</if>
					<if test="endDate !=null">
						and date &lt; #{endDate}
					</if>
				</otherwise>
			</choose>
		</where>
		order by date
	</select>
</mapper>
